<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui">
	
	<h:form id="companyControlPanelForm">
		
		<!-- Products management -->
		<h:panelGroup id="companyProductsPanel" 
			layout="block" 
			styleClass="row">
			<h:panelGroup styleClass="col-md-12">
				<h:panelGroup layout="block" 
					styleClass="panel panel-default">
					<h:panelGroup layout="block" 
						styleClass="panel-heading">
				    	<h2 class="panel-title">
				    		<h:outputText value="#{msg['account.company.productsTable.title']} " />
				    		<h:panelGroup styleClass="glyphicon glyphicon-tasks" />		
				    	</h2>
				  	</h:panelGroup>
				  	<h:panelGroup layout="block" 
				  		styleClass="panel-body">
				  		<p:dataTable id="productManagementTable" 
				    		value="#{userAccountManagerMB.paymentRequestHistory}"
				    		var="paymentRequest"
				    		emptyMessage="#{msg['account.company.productsTable.empty']}"
				    		paginator="true"
				    		paginatorPosition="bottom"
				    		currentPageReportTemplate="({currentPage} / {totalPages})"
				    		paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                       		rowsPerPageTemplate="20"
				    		styleClass="table table-striped text-center">
						    <f:facet name="header">
						        <h:outputText value="#{msg['account.company.productsTable.status']}" />
						    </f:facet>
						    <p:column headerClass="text-center" 
						    	width="12%"
						    	headerText="#{msg['account.company.productsTable.productNumber']}">
						        <h:outputText value="" />
						    </p:column>
						    <p:column headerClass="text-center" 
						    	headerText="#{msg['account.company.productsTable.name']}">
						        <h:outputText value="" />
						    </p:column>
						    <p:column headerClass="text-center" 
						    	width="10%"
						    	headerText="#{msg['account.company.productsTable.price']}">
						        <h:outputText value="" />
						    </p:column>
						    <p:column headerClass="text-center"
						    	width="9%"
						    	headerText="#{msg['account.company.productsTable.paybackPercent']}">
						        <h:outputText value="" />
						    </p:column>
						    <p:column headerClass="text-center"
						    	width="15%"
						    	headerText="#{msg['account.company.productsTable.startDate']}">
						        <h:outputText value="">
						        	<f:convertDateTime type="both" pattern="dd-MMM-yyyy hh:mm:ss" />
						        </h:outputText>
						    </p:column>
						    <p:column headerClass="text-center"
						    	width="15%"
						    	headerText="#{msg['account.company.productsTable.endDate']}">
						        <h:outputText value="">
						        	<f:convertDateTime type="both" pattern="dd-MMM-yyyy hh:mm:ss" />
						        </h:outputText>
						    </p:column>
						    <p:column headerClass="text-center"
						    	width="12%"
						    	headerText="#{msg['account.company.productsTable.endVality']}">
						        <h:outputText value="" />
						    </p:column>
						</p:dataTable>	
					</h:panelGroup>
				</h:panelGroup>
			</h:panelGroup>
		</h:panelGroup>
		
		<!-- Payback requests management -->
		<h:panelGroup id="companyPaybackRequestsPanel" 
			layout="block" 
			styleClass="row">
			<h:panelGroup styleClass="col-md-12">
				<h:panelGroup layout="block" 
					styleClass="panel panel-default">
					<h:panelGroup layout="block" 
						styleClass="panel-heading">
				    	<h2 class="panel-title">
				    		<h:outputText value="#{msg['account.company.paybacksTable.title']} " />
				    		<h:panelGroup styleClass="glyphicon glyphicon-folder-open" />		
				    	</h2>
				  	</h:panelGroup>
				  	<h:panelGroup layout="block" 
				  		styleClass="panel-body">
				  		<!-- Payment request summary -->
				  		<h:panelGroup layout="block" 
							styleClass="row">
							<!-- Total sum -->
							<h:panelGroup styleClass="col-md-3"
								layout="block">
								<h:panelGroup layout="block" 
									styleClass="form-group">
							    	<h:outputLabel for="totalPaymentRequestsInput">
							    		<h:outputText value="#{msg['account.company.paybacksTable.summary.totalSum']}" />
							    	</h:outputLabel>
							    	<h:panelGroup styleClass="input-group" 
							    		layout="block">
							    	  	<h:panelGroup styleClass="input-group-addon">
									  		<h:outputText value="$" />
									  	</h:panelGroup>
							    	  	<h:inputText id="totalPaymentRequestsInput" 
							    	  		styleClass="form-control"
							    	  		value="#{userAccountManagerMB.onwaitAmount}" 
							    	  		readonly="true">
											<f:convertNumber minFractionDigits="2" 
												maxFractionDigits="2"/>
										</h:inputText>
									</h:panelGroup>
								 </h:panelGroup>
							</h:panelGroup>
							
							<!-- Afore sum -->
							<h:panelGroup styleClass="col-md-3"
								layout="block">
								<h:panelGroup layout="block" 
									styleClass="form-group">
							    	<h:outputLabel for="aforePaymentRequestInput">
							    		<h:outputText value="#{msg['account.company.paybacksTable.summary.aforeSum']}" />
							    	</h:outputLabel>
							    	<h:panelGroup styleClass="input-group" 
							    		layout="block">
							    	  	<h:panelGroup styleClass="input-group-addon">
									  		<h:outputText value="$" />
									  	</h:panelGroup>
							    	  	<h:inputText id="aforePaymentRequestInput" 
							    	  		styleClass="form-control"
							    	  		value="#{userAccountManagerMB.onwaitAmount}" 
							    	  		readonly="true">
											<f:convertNumber minFractionDigits="2" 
												maxFractionDigits="2"/>
										</h:inputText>
									</h:panelGroup>
								 </h:panelGroup>
							</h:panelGroup>
							
							<!-- # of payment requests -->
							<h:panelGroup styleClass="col-md-3">
							</h:panelGroup>
							<!-- Spacer -->
							<h:panelGroup styleClass="col-md-3">
							</h:panelGroup>
						</h:panelGroup>
				  		<!-- Payment request table -->
				  		<p:dataTable id="paybackRequestsManagementTable" 
				    		value="#{userAccountManagerMB.paymentRequestHistory}"
				    		var="paymentRequest"
				    		emptyMessage="#{msg['account.company.paybacksTable.empty']}"
				    		paginator="true"
				    		paginatorPosition="bottom"
				    		currentPageReportTemplate="({currentPage} / {totalPages})"
				    		paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                       		rowsPerPageTemplate="20"
				    		styleClass="table table-striped text-center">
						    <f:facet name="header">
						        <h:outputText value="#{msg['account.company.paybacksTable.tableTitle']}" />
						    </f:facet>
						    <p:column headerClass="text-center" 
						    	headerText="#{msg['account.company.paybacksTable.fingerPrint']}">
						        <h:outputText value="" />
						    </p:column>
						    <p:column headerClass="text-center" 
						    	width="15%"
						    	headerText="#{msg['account.company.paybacksTable.operationDate']}">
						        <h:outputText value="">
						        	<f:convertDateTime type="both" pattern="dd-MMM-yyyy hh:mm:ss" />
						        </h:outputText>
						    </p:column>
						    <p:column headerClass="text-center" 
						    	width="12%"
						    	headerText="#{msg['account.company.paybacksTable.total']}">
						        <h:outputText value="">
						        	<f:convertNumber type="currency" />
						        </h:outputText>
						    </p:column>
						    <p:column headerClass="text-center"
						    	width="12%"
						    	headerText="#{msg['account.company.paybacksTable.paybackAmount']}">
						        <h:outputText value="">
						        	<f:convertNumber type="currency" />
						        </h:outputText>
						    </p:column>
						    <p:column headerClass="text-center"
						    	width="10%"
						    	headerText="#{msg['account.company.paybacksTable.seeBuyProof']}">
						        <h:outputText value="" />
						    </p:column>
						    <p:column headerClass="text-center"
						    	width="10%"
						    	headerText="#{msg['account.company.paybacksTable.protest']}">
						        <h:outputText value="" />
						    </p:column>
						</p:dataTable>	
					</h:panelGroup>
				</h:panelGroup>
			</h:panelGroup>
		</h:panelGroup>
		
	    <!-- Categories -->
		<ui:include src="#{urlMapperMB.categories}" />
	</h:form>
</ui:composition>
